[
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "enterScope",
            "method_body": "@Override\n    public void enterScope(NodeTraversal t) {\n      symbolStack.peek().scope = t.getScope();\n          // NOTE(nicksantos): We use the same anonymous node for all\n          // functions that do not have reasonable names. I can't remember\n          // at the moment why we do this. I think it's because anonymous\n          // nodes can never have in-edges. They're just there as a placeholder\n          // for scope information, and do not matter in the edge propagation.\n    }",
            "start_line": 204,
            "end_line": 212,
            "buggy_lines": [
                203,
                206
            ]
        },
        "buggy_method_src": "@Override\n    public void enterScope(NodeTraversal t) {\n      symbolStack.peek().scope = t.getScope();\n          // NOTE(nicksantos): We use the same anonymous node for all\n          // functions that do not have reasonable names. I can't remember\n          // at the moment why we do this. I think it's because anonymous\n          // nodes can never have in-edges. They're just there as a placeholder\n          // for scope information, and do not matter in the edge propagation.\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            0,
            3
        ],
        "buggy_statements": [
            "    }",
            "      symbolStack.peek().scope = t.getScope();"
        ],
        "buggy_method_src_endswith_buggy_statement": "@Override\n    public void enterScope(NodeTraversal t) {\n      symbolStack.peek().scope = t.getScope();"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "shouldTraverse",
            "method_body": "@Override\n    public boolean shouldTraverse(NodeTraversal t, Node n, Node parent) {\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n)) {\n        symbolStack.push(new NameContext(getNameInfoForName(\n                n.getFirstChild().getLastChild().getString(), PROPERTY)));\n      } else if (isGlobalFunctionDeclaration(t, n)) {\n        String name = parent.isName() ?\n            parent.getString() /* VAR */ :\n            n.getFirstChild().getString() /* named function */;\n        symbolStack.push(new NameContext(getNameInfoForName(name, VAR)));\n      } else if (n.isFunction()) {\n        symbolStack.push(new NameContext(anonymousNode));\n      }\n      return true;\n    }",
            "start_line": 218,
            "end_line": 233,
            "buggy_lines": [
                221,
                222,
                223,
                224,
                225,
                226,
                227,
                228,
                229,
                230
            ]
        },
        "buggy_method_src": "@Override\n    public boolean shouldTraverse(NodeTraversal t, Node n, Node parent) {\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n)) {\n        symbolStack.push(new NameContext(getNameInfoForName(\n                n.getFirstChild().getLastChild().getString(), PROPERTY)));\n      } else if (isGlobalFunctionDeclaration(t, n)) {\n        String name = parent.isName() ?\n            parent.getString() /* VAR */ :\n            n.getFirstChild().getString() /* named function */;\n        symbolStack.push(new NameContext(getNameInfoForName(name, VAR)));\n      } else if (n.isFunction()) {\n        symbolStack.push(new NameContext(anonymousNode));\n      }\n      return true;\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13
        ],
        "buggy_statements": [
            "      if (isPrototypePropertyAssign(n)) {",
            "        symbolStack.push(new NameContext(getNameInfoForName(",
            "                n.getFirstChild().getLastChild().getString(), PROPERTY)));",
            "      } else if (isGlobalFunctionDeclaration(t, n)) {",
            "        String name = parent.isName() ?",
            "            parent.getString() /* VAR */ :",
            "            n.getFirstChild().getString() /* named function */;",
            "        symbolStack.push(new NameContext(getNameInfoForName(name, VAR)));",
            "      } else if (n.isFunction()) {",
            "        symbolStack.push(new NameContext(anonymousNode));"
        ],
        "buggy_method_src_endswith_buggy_statement": "@Override\n    public boolean shouldTraverse(NodeTraversal t, Node n, Node parent) {\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n)) {\n        symbolStack.push(new NameContext(getNameInfoForName(\n                n.getFirstChild().getLastChild().getString(), PROPERTY)));\n      } else if (isGlobalFunctionDeclaration(t, n)) {\n        String name = parent.isName() ?\n            parent.getString() /* VAR */ :\n            n.getFirstChild().getString() /* named function */;\n        symbolStack.push(new NameContext(getNameInfoForName(name, VAR)));\n      } else if (n.isFunction()) {\n        symbolStack.push(new NameContext(anonymousNode));"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "visit",
            "method_body": "@Override\n    public void visit(NodeTraversal t, Node n, Node parent) {\n      if (n.isGetProp()) {\n        String propName = n.getFirstChild().getNext().getString();\n\n          if (propName.equals(\"prototype\")) {\n          processPrototypeParent(t, parent);\n          } else if (compiler.getCodingConvention().isExported(propName)) {\n            addGlobalUseOfSymbol(propName, t.getModule(), PROPERTY);\n          } else {\n            // Do not mark prototype prop assigns as a 'use' in the global scope.\n          addSymbolUse(propName, t.getModule(), PROPERTY);\n        }\n\n      } else if (n.isObjectLit() &&\n        // Make sure that we're not handling object literals being\n        // assigned to a prototype, as in:\n        // Foo.prototype = {bar: 3, baz: 5};\n          !(parent.isAssign() &&\n            parent.getFirstChild().isGetProp() &&\n            parent.getFirstChild().getLastChild().getString().equals(\n                \"prototype\"))) {\n\n        // var x = {a: 1, b: 2}\n        // should count as a use of property a and b.\n        for (Node propNameNode = n.getFirstChild(); propNameNode != null;\n             propNameNode = propNameNode.getNext()) {\n          // May be STRING, GET, or SET, but NUMBER isn't interesting.\n          if (!propNameNode.isQuotedString()) {\n            addSymbolUse(propNameNode.getString(), t.getModule(), PROPERTY);\n          }\n        }\n      } else if (n.isName()) {\n        String name = n.getString();\n\n        Var var = t.getScope().getVar(name);\n        if (var != null) {\n          // Only process global functions.\n          if (var.isGlobal()) {\n            if (var.getInitialValue() != null &&\n                var.getInitialValue().isFunction()) {\n              if (t.inGlobalScope()) {\n                if (!processGlobalFunctionDeclaration(t, n, parent,\n                        parent.getParent())) {\n                  addGlobalUseOfSymbol(name, t.getModule(), VAR);\n                }\n              } else {\n                addSymbolUse(name, t.getModule(), VAR);\n              }\n            }\n\n          // If it is not a global, it might be accessing a local of the outer\n          // scope. If that's the case the functions between the variable's\n          // declaring scope and the variable reference scope cannot be moved.\n          } else if (var.getScope() != t.getScope()){\n            for (int i = symbolStack.size() - 1; i >= 0; i--) {\n              NameContext context = symbolStack.get(i);\n              if (context.scope == var.getScope()) {\n                break;\n              }\n\n              context.name.readClosureVariables = true;\n            }\n          }\n        }\n      }\n\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n) ||\n          isGlobalFunctionDeclaration(t, n) ||\n          n.isFunction()) {\n        symbolStack.pop();\n      }\n    }",
            "start_line": 235,
            "end_line": 308,
            "buggy_lines": [
                241,
                246,
                249,
                253,
                254,
                255,
                256,
                277,
                278,
                303,
                304,
                305
            ]
        },
        "buggy_method_src": "@Override\n    public void visit(NodeTraversal t, Node n, Node parent) {\n      if (n.isGetProp()) {\n        String propName = n.getFirstChild().getNext().getString();\n\n          if (propName.equals(\"prototype\")) {\n          processPrototypeParent(t, parent);\n          } else if (compiler.getCodingConvention().isExported(propName)) {\n            addGlobalUseOfSymbol(propName, t.getModule(), PROPERTY);\n          } else {\n            // Do not mark prototype prop assigns as a 'use' in the global scope.\n          addSymbolUse(propName, t.getModule(), PROPERTY);\n        }\n\n      } else if (n.isObjectLit() &&\n        // Make sure that we're not handling object literals being\n        // assigned to a prototype, as in:\n        // Foo.prototype = {bar: 3, baz: 5};\n          !(parent.isAssign() &&\n            parent.getFirstChild().isGetProp() &&\n            parent.getFirstChild().getLastChild().getString().equals(\n                \"prototype\"))) {\n\n        // var x = {a: 1, b: 2}\n        // should count as a use of property a and b.\n        for (Node propNameNode = n.getFirstChild(); propNameNode != null;\n             propNameNode = propNameNode.getNext()) {\n          // May be STRING, GET, or SET, but NUMBER isn't interesting.\n          if (!propNameNode.isQuotedString()) {\n            addSymbolUse(propNameNode.getString(), t.getModule(), PROPERTY);\n          }\n        }\n      } else if (n.isName()) {\n        String name = n.getString();\n\n        Var var = t.getScope().getVar(name);\n        if (var != null) {\n          // Only process global functions.\n          if (var.isGlobal()) {\n            if (var.getInitialValue() != null &&\n                var.getInitialValue().isFunction()) {\n              if (t.inGlobalScope()) {\n                if (!processGlobalFunctionDeclaration(t, n, parent,\n                        parent.getParent())) {\n                  addGlobalUseOfSymbol(name, t.getModule(), VAR);\n                }\n              } else {\n                addSymbolUse(name, t.getModule(), VAR);\n              }\n            }\n\n          // If it is not a global, it might be accessing a local of the outer\n          // scope. If that's the case the functions between the variable's\n          // declaring scope and the variable reference scope cannot be moved.\n          } else if (var.getScope() != t.getScope()){\n            for (int i = symbolStack.size() - 1; i >= 0; i--) {\n              NameContext context = symbolStack.get(i);\n              if (context.scope == var.getScope()) {\n                break;\n              }\n\n              context.name.readClosureVariables = true;\n            }\n          }\n        }\n      }\n\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n) ||\n          isGlobalFunctionDeclaration(t, n) ||\n          n.isFunction()) {\n        symbolStack.pop();\n      }\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            7,
            12,
            15,
            19,
            20,
            21,
            22,
            43,
            44,
            69,
            70,
            71
        ],
        "buggy_statements": [
            "          processPrototypeParent(t, parent);",
            "          addSymbolUse(propName, t.getModule(), PROPERTY);",
            "      } else if (n.isObjectLit() &&",
            "          !(parent.isAssign() &&",
            "            parent.getFirstChild().isGetProp() &&",
            "            parent.getFirstChild().getLastChild().getString().equals(",
            "                \"prototype\"))) {",
            "                if (!processGlobalFunctionDeclaration(t, n, parent,",
            "                        parent.getParent())) {",
            "      if (isPrototypePropertyAssign(n) ||",
            "          isGlobalFunctionDeclaration(t, n) ||",
            "          n.isFunction()) {"
        ],
        "buggy_method_src_endswith_buggy_statement": "@Override\n    public void visit(NodeTraversal t, Node n, Node parent) {\n      if (n.isGetProp()) {\n        String propName = n.getFirstChild().getNext().getString();\n\n          if (propName.equals(\"prototype\")) {\n          processPrototypeParent(t, parent);\n          } else if (compiler.getCodingConvention().isExported(propName)) {\n            addGlobalUseOfSymbol(propName, t.getModule(), PROPERTY);\n          } else {\n            // Do not mark prototype prop assigns as a 'use' in the global scope.\n          addSymbolUse(propName, t.getModule(), PROPERTY);\n        }\n\n      } else if (n.isObjectLit() &&\n        // Make sure that we're not handling object literals being\n        // assigned to a prototype, as in:\n        // Foo.prototype = {bar: 3, baz: 5};\n          !(parent.isAssign() &&\n            parent.getFirstChild().isGetProp() &&\n            parent.getFirstChild().getLastChild().getString().equals(\n                \"prototype\"))) {\n\n        // var x = {a: 1, b: 2}\n        // should count as a use of property a and b.\n        for (Node propNameNode = n.getFirstChild(); propNameNode != null;\n             propNameNode = propNameNode.getNext()) {\n          // May be STRING, GET, or SET, but NUMBER isn't interesting.\n          if (!propNameNode.isQuotedString()) {\n            addSymbolUse(propNameNode.getString(), t.getModule(), PROPERTY);\n          }\n        }\n      } else if (n.isName()) {\n        String name = n.getString();\n\n        Var var = t.getScope().getVar(name);\n        if (var != null) {\n          // Only process global functions.\n          if (var.isGlobal()) {\n            if (var.getInitialValue() != null &&\n                var.getInitialValue().isFunction()) {\n              if (t.inGlobalScope()) {\n                if (!processGlobalFunctionDeclaration(t, n, parent,\n                        parent.getParent())) {\n                  addGlobalUseOfSymbol(name, t.getModule(), VAR);\n                }\n              } else {\n                addSymbolUse(name, t.getModule(), VAR);\n              }\n            }\n\n          // If it is not a global, it might be accessing a local of the outer\n          // scope. If that's the case the functions between the variable's\n          // declaring scope and the variable reference scope cannot be moved.\n          } else if (var.getScope() != t.getScope()){\n            for (int i = symbolStack.size() - 1; i >= 0; i--) {\n              NameContext context = symbolStack.get(i);\n              if (context.scope == var.getScope()) {\n                break;\n              }\n\n              context.name.readClosureVariables = true;\n            }\n          }\n        }\n      }\n\n      // Process prototype assignments to non-functions.\n      if (isPrototypePropertyAssign(n) ||\n          isGlobalFunctionDeclaration(t, n) ||\n          n.isFunction()) {"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "isGlobalFunctionDeclaration",
            "method_body": "private boolean isGlobalFunctionDeclaration(NodeTraversal t, Node n) {\n      // Make sure we're either in the global scope, or the function\n      // we're looking at is the root of the current local scope.\n\n      return t.inGlobalScope() &&\n          (NodeUtil.isFunctionDeclaration(n) ||\n           n.isFunction() &&\n           n.getParent().isName());\n    }",
            "start_line": 334,
            "end_line": 342,
            "buggy_lines": [
                338,
                339,
                340,
                341
            ]
        },
        "buggy_method_src": "private boolean isGlobalFunctionDeclaration(NodeTraversal t, Node n) {\n      // Make sure we're either in the global scope, or the function\n      // we're looking at is the root of the current local scope.\n\n      return t.inGlobalScope() &&\n          (NodeUtil.isFunctionDeclaration(n) ||\n           n.isFunction() &&\n           n.getParent().isName());\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            5,
            6,
            7,
            8
        ],
        "buggy_statements": [
            "      return t.inGlobalScope() &&",
            "          (NodeUtil.isFunctionDeclaration(n) ||",
            "           n.isFunction() &&",
            "           n.getParent().isName());"
        ],
        "buggy_method_src_endswith_buggy_statement": "private boolean isGlobalFunctionDeclaration(NodeTraversal t, Node n) {\n      // Make sure we're either in the global scope, or the function\n      // we're looking at is the root of the current local scope.\n\n      return t.inGlobalScope() &&\n          (NodeUtil.isFunctionDeclaration(n) ||\n           n.isFunction() &&\n           n.getParent().isName());"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "isPrototypePropertyAssign",
            "method_body": "private boolean isPrototypePropertyAssign(Node assign) {\n      Node n = assign.getFirstChild();\n      if (n != null && NodeUtil.isVarOrSimpleAssignLhs(n, assign)\n          && n.isGetProp()\n          && assign.getParent().isExprResult()) {\n        boolean isChainedProperty =\n            n.getFirstChild().isGetProp();\n\n    /**\n     * Returns the name of a prototype property being assigned to this r-value.\n     *\n     * Returns null if this is not the R-value of a prototype property, or if\n     * the R-value is used in multiple expressions (i.e., if there's\n     * a prototype property assignment in a more complex expression).\n     */\n        if (isChainedProperty) {\n          Node child = n.getFirstChild().getFirstChild().getNext();\n\n          if (child.isString() &&\n              child.getString().equals(\"prototype\")) {\n            return true;\n          }\n        }\n      }\n\n\n      return false;\n    }",
            "start_line": 347,
            "end_line": 374,
            "buggy_lines": [
                347,
                348,
                349,
                350,
                351,
                352,
                353,
                362,
                363,
                365,
                366,
                367,
                368,
                369,
                373
            ]
        },
        "buggy_method_src": "private boolean isPrototypePropertyAssign(Node assign) {\n      Node n = assign.getFirstChild();\n      if (n != null && NodeUtil.isVarOrSimpleAssignLhs(n, assign)\n          && n.isGetProp()\n          && assign.getParent().isExprResult()) {\n        boolean isChainedProperty =\n            n.getFirstChild().isGetProp();\n\n    /**\n     * Returns the name of a prototype property being assigned to this r-value.\n     *\n     * Returns null if this is not the R-value of a prototype property, or if\n     * the R-value is used in multiple expressions (i.e., if there's\n     * a prototype property assignment in a more complex expression).\n     */\n        if (isChainedProperty) {\n          Node child = n.getFirstChild().getFirstChild().getNext();\n\n          if (child.isString() &&\n              child.getString().equals(\"prototype\")) {\n            return true;\n          }\n        }\n      }\n\n\n      return false;\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            16,
            17,
            19,
            20,
            21,
            22,
            23,
            27
        ],
        "buggy_statements": [
            "private boolean isPrototypePropertyAssign(Node assign) {",
            "      Node n = assign.getFirstChild();",
            "      if (n != null && NodeUtil.isVarOrSimpleAssignLhs(n, assign)",
            "          && n.isGetProp()",
            "          && assign.getParent().isExprResult()) {",
            "        boolean isChainedProperty =",
            "            n.getFirstChild().isGetProp();",
            "        if (isChainedProperty) {",
            "          Node child = n.getFirstChild().getFirstChild().getNext();",
            "          if (child.isString() &&",
            "              child.getString().equals(\"prototype\")) {",
            "            return true;",
            "          }",
            "        }",
            "      return false;"
        ],
        "buggy_method_src_endswith_buggy_statement": "private boolean isPrototypePropertyAssign(Node assign) {\n      Node n = assign.getFirstChild();\n      if (n != null && NodeUtil.isVarOrSimpleAssignLhs(n, assign)\n          && n.isGetProp()\n          && assign.getParent().isExprResult()) {\n        boolean isChainedProperty =\n            n.getFirstChild().isGetProp();\n\n    /**\n     * Returns the name of a prototype property being assigned to this r-value.\n     *\n     * Returns null if this is not the R-value of a prototype property, or if\n     * the R-value is used in multiple expressions (i.e., if there's\n     * a prototype property assignment in a more complex expression).\n     */\n        if (isChainedProperty) {\n          Node child = n.getFirstChild().getFirstChild().getNext();\n\n          if (child.isString() &&\n              child.getString().equals(\"prototype\")) {\n            return true;\n          }\n        }\n      }\n\n\n      return false;"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "processGlobalFunctionDeclaration",
            "method_body": "private boolean processGlobalFunctionDeclaration(NodeTraversal t,\n        Node nameNode, Node parent, Node gramps) {\n      Node firstChild = nameNode.getFirstChild();\n\n      if (// Check for a named FUNCTION.\n          isGlobalFunctionDeclaration(t, parent) ||\n          // Check for a VAR declaration.\n          firstChild != null &&\n          isGlobalFunctionDeclaration(t, firstChild)) {\n        String name = nameNode.getString();\n        getNameInfoForName(name, VAR).getDeclarations().add(\n            new GlobalFunction(nameNode, parent, gramps, t.getModule()));\n\n        // If the function name is exported, we should create an edge here\n        // so that it's never removed.\n        if (compiler.getCodingConvention().isExported(name) ||\n            anchorUnusedVars) {\n          addGlobalUseOfSymbol(name, t.getModule(), VAR);\n        }\n\n        return true;\n      }\n      return false;\n    }",
            "start_line": 380,
            "end_line": 403,
            "buggy_lines": [
                381,
                391
            ]
        },
        "buggy_method_src": "private boolean processGlobalFunctionDeclaration(NodeTraversal t,\n        Node nameNode, Node parent, Node gramps) {\n      Node firstChild = nameNode.getFirstChild();\n\n      if (// Check for a named FUNCTION.\n          isGlobalFunctionDeclaration(t, parent) ||\n          // Check for a VAR declaration.\n          firstChild != null &&\n          isGlobalFunctionDeclaration(t, firstChild)) {\n        String name = nameNode.getString();\n        getNameInfoForName(name, VAR).getDeclarations().add(\n            new GlobalFunction(nameNode, parent, gramps, t.getModule()));\n\n        // If the function name is exported, we should create an edge here\n        // so that it's never removed.\n        if (compiler.getCodingConvention().isExported(name) ||\n            anchorUnusedVars) {\n          addGlobalUseOfSymbol(name, t.getModule(), VAR);\n        }\n\n        return true;\n      }\n      return false;\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            2,
            12
        ],
        "buggy_statements": [
            "        Node nameNode, Node parent, Node gramps) {",
            "            new GlobalFunction(nameNode, parent, gramps, t.getModule()));"
        ],
        "buggy_method_src_endswith_buggy_statement": "private boolean processGlobalFunctionDeclaration(NodeTraversal t,\n        Node nameNode, Node parent, Node gramps) {\n      Node firstChild = nameNode.getFirstChild();\n\n      if (// Check for a named FUNCTION.\n          isGlobalFunctionDeclaration(t, parent) ||\n          // Check for a VAR declaration.\n          firstChild != null &&\n          isGlobalFunctionDeclaration(t, firstChild)) {\n        String name = nameNode.getString();\n        getNameInfoForName(name, VAR).getDeclarations().add(\n            new GlobalFunction(nameNode, parent, gramps, t.getModule()));"
    },
    {
        "buggy_file": "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "buggy_method": {
            "method_name": "processPrototypeParent",
            "method_body": "private void processPrototypeParent(NodeTraversal t, Node n) {\n\n      switch (n.getType()) {\n        // Foo.prototype.getBar = function() { ... }\n        case Token.GETPROP:\n          Node dest = n.getFirstChild().getNext();\n          Node parent = n.getParent();\n          Node grandParent = parent.getParent();\n\n          if (dest.isString() &&\n              NodeUtil.isExprAssign(grandParent) &&\n              NodeUtil.isVarOrSimpleAssignLhs(n, parent)) {\n            String name = dest.getString();\n            Property prop = new AssignmentProperty(\n                grandParent,\n                t.getModule());\n            getNameInfoForName(name, PROPERTY).getDeclarations().add(prop);\n          }\n          break;\n\n        // Foo.prototype = { \"getBar\" : function() { ... } }\n        case Token.ASSIGN:\n          Node map = n.getFirstChild().getNext();\n          if (map.isObjectLit()) {\n            for (Node key = map.getFirstChild();\n                 key != null; key = key.getNext()) {\n              // May be STRING, GET, or SET,\n              String name = key.getString();\n              Property prop = new LiteralProperty(\n                  key, key.getFirstChild(), map, n,\n                  t.getModule());\n              getNameInfoForName(name, PROPERTY).getDeclarations().add(prop);\n            }\n          }\n          break;\n      }\n    }",
            "start_line": 411,
            "end_line": 447,
            "buggy_lines": [
                411
            ]
        },
        "buggy_method_src": "private void processPrototypeParent(NodeTraversal t, Node n) {\n\n      switch (n.getType()) {\n        // Foo.prototype.getBar = function() { ... }\n        case Token.GETPROP:\n          Node dest = n.getFirstChild().getNext();\n          Node parent = n.getParent();\n          Node grandParent = parent.getParent();\n\n          if (dest.isString() &&\n              NodeUtil.isExprAssign(grandParent) &&\n              NodeUtil.isVarOrSimpleAssignLhs(n, parent)) {\n            String name = dest.getString();\n            Property prop = new AssignmentProperty(\n                grandParent,\n                t.getModule());\n            getNameInfoForName(name, PROPERTY).getDeclarations().add(prop);\n          }\n          break;\n\n        // Foo.prototype = { \"getBar\" : function() { ... } }\n        case Token.ASSIGN:\n          Node map = n.getFirstChild().getNext();\n          if (map.isObjectLit()) {\n            for (Node key = map.getFirstChild();\n                 key != null; key = key.getNext()) {\n              // May be STRING, GET, or SET,\n              String name = key.getString();\n              Property prop = new LiteralProperty(\n                  key, key.getFirstChild(), map, n,\n                  t.getModule());\n              getNameInfoForName(name, PROPERTY).getDeclarations().add(prop);\n            }\n          }\n          break;\n      }\n    }",
        "test_stack": "com.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600b\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:function(){return 1}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return 1});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            EXPR_RESULT 3 [source_file: expected0]\n                                ASSIGN 3 [source_file: expected0]\n                                    GETPROP 3 [source_file: expected0]\n                                        NAME jQuery2 3 [source_file: expected0]\n                                        STRING prototype 3 [source_file: expected0]\n                                    OBJECTLIT 3 [source_file: expected0]\n                                        STRING size 4 [source_file: expected0]\n                                            FUNCTION  4 [source_file: expected0]\n                                                NAME  4 [source_file: expected0]\n                                                PARAM_LIST 4 [source_file: expected0]\n                                                BLOCK 4 [source_file: expected0]\n                                                    RETURN 5 [source_file: expected0]\n                                                        NUMBER 1.0 5 [source_file: expected0]\n                            RETURN 8 [source_file: expected0]\n                                NAME jQuery2 8 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            EXPR_RESULT 3 [source_file: i0]\n                                ASSIGN 3 [source_file: i0]\n                                    GETPROP 3 [source_file: i0]\n                                        NAME jQuery2 3 [source_file: i0]\n                                        STRING prototype 3 [source_file: i0]\n                                    OBJECTLIT 3 [source_file: i0]\n                                        STRING size 4 [source_file: i0]\n                                            CALL 4 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                                NUMBER 0.0 4 [source_file: i0]\n                            RETURN 8 [source_file: i0]\n                                NAME jQuery2 8 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NUMBER 1.0 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NUMBER 1.0 5 [source_file: expected0]\n                        RETURN 8 [source_file: expected0]\n                            NAME jQuery2 8 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600e\njunit.framework.AssertionFailedError:\nExpected: var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}}})();(function(){var div=jQuery2(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery2=function(){};(function(){var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)}})();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery2(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery2 1 [source_file: expected0]\n                FUNCTION  1 [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n        EXPR_RESULT 2 [source_file: expected0]\n            CALL 2 [free_call: 1] [source_file: expected0]\n                FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                    NAME  2 [source_file: expected0]\n                    PARAM_LIST 2 [source_file: expected0]\n                    BLOCK 2 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME theLoneliestNumber 2 [source_file: expected0]\n                                NUMBER 1.0 2 [source_file: expected0]\n                        EXPR_RESULT 3 [source_file: expected0]\n                            ASSIGN 3 [source_file: expected0]\n                                GETPROP 3 [source_file: expected0]\n                                    NAME jQuery2 3 [source_file: expected0]\n                                    STRING prototype 3 [source_file: expected0]\n                                OBJECTLIT 3 [source_file: expected0]\n                                    STRING size 4 [source_file: expected0]\n                                        FUNCTION  4 [source_file: expected0]\n                                            NAME  4 [source_file: expected0]\n                                            PARAM_LIST 4 [source_file: expected0]\n                                            BLOCK 4 [source_file: expected0]\n                                                RETURN 5 [source_file: expected0]\n                                                    NAME theLoneliestNumber 5 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery2 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery2 1 [source_file: i0]\n                FUNCTION  1 [source_file: i0]\n                    NAME  1 [source_file: i0]\n                    PARAM_LIST 1 [source_file: i0]\n                    BLOCK 1 [source_file: i0]\n        EXPR_RESULT 2 [source_file: i0]\n            CALL 2 [free_call: 1] [source_file: i0]\n                FUNCTION  2 [parenthesized: true] [source_file: i0]\n                    NAME  2 [source_file: i0]\n                    PARAM_LIST 2 [source_file: i0]\n                    BLOCK 2 [source_file: i0]\n                        VAR 2 [source_file: i0]\n                            NAME theLoneliestNumber 2 [source_file: i0]\n                                NUMBER 1.0 2 [source_file: i0]\n                        EXPR_RESULT 3 [source_file: i0]\n                            ASSIGN 3 [source_file: i0]\n                                GETPROP 3 [source_file: i0]\n                                    NAME jQuery2 3 [source_file: i0]\n                                    STRING prototype 3 [source_file: i0]\n                                OBJECTLIT 3 [source_file: i0]\n                                    STRING size 4 [source_file: i0]\n                                        CALL 4 [free_call: 1] [source_file: i0]\n                                            NAME JSCompiler_stubMethod 4 [source_file: i0]\n                                            NUMBER 0.0 4 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 4 [source_file: i0]\n            ASSIGN 4 [source_file: i0]\n                GETPROP 4 [source_file: i0]\n                    GETPROP 3 [source_file: i0]\n                        NAME jQuery2 3 [source_file: i0]\n                        STRING prototype 3 [source_file: i0]\n                    STRING size 4 [source_file: i0]\n                CALL 4 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 4 [source_file: i0]\n                    NUMBER 0.0 4 [source_file: i0]\n                    FUNCTION  4 [source_file: i0]\n                        NAME  4 [source_file: i0]\n                        PARAM_LIST 4 [source_file: i0]\n                        BLOCK 4 [source_file: i0]\n                            RETURN 5 [source_file: i0]\n                                NAME theLoneliestNumber 5 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery2 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery2 1 [source_file: expected0]\n            FUNCTION  1 [source_file: expected0]\n                NAME  1 [source_file: expected0]\n                PARAM_LIST 1 [source_file: expected0]\n                BLOCK 1 [source_file: expected0]\n    EXPR_RESULT 2 [source_file: expected0]\n        CALL 2 [free_call: 1] [source_file: expected0]\n            FUNCTION  2 [parenthesized: true] [source_file: expected0]\n                NAME  2 [source_file: expected0]\n                PARAM_LIST 2 [source_file: expected0]\n                BLOCK 2 [source_file: expected0]\n                    VAR 2 [source_file: expected0]\n                        NAME theLoneliestNumber 2 [source_file: expected0]\n                            NUMBER 1.0 2 [source_file: expected0]\n                    EXPR_RESULT 3 [source_file: expected0]\n                        ASSIGN 3 [source_file: expected0]\n                            GETPROP 3 [source_file: expected0]\n                                NAME jQuery2 3 [source_file: expected0]\n                                STRING prototype 3 [source_file: expected0]\n                            OBJECTLIT 3 [source_file: expected0]\n                                STRING size 4 [source_file: expected0]\n                                    FUNCTION  4 [source_file: expected0]\n                                        NAME  4 [source_file: expected0]\n                                        PARAM_LIST 4 [source_file: expected0]\n                                        BLOCK 4 [source_file: expected0]\n                                            RETURN 5 [source_file: expected0]\n                                                NAME theLoneliestNumber 5 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n        BLOCK 1 [source_file:  [synthetic:1] ]\n            RETURN 1 [source_file:  [synthetic:1] ]\n                FUNCTION  1 [source_file:  [synthetic:1] ]\n                    NAME  1 [source_file:  [synthetic:1] ]\n                    PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                    BLOCK 1 [source_file:  [synthetic:1] ]\n                        RETURN 1 [source_file:  [synthetic:1] ]\n                            CALL 1 [source_file:  [synthetic:1] ]\n                                GETPROP 1 [source_file:  [synthetic:1] ]\ncom.google.javascript.jscomp.CrossModuleMethodMotionTest::testIssue600\njunit.framework.AssertionFailedError:\nExpected: var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:function(){return theLoneliestNumber}};return jQuery2}();(function(){var div=jQuery1(\"div\");div.size()})()\nResult: var JSCompiler_stubMap=[];function JSCompiler_stubMethod(JSCompiler_stubMethod_id){return function(){return JSCompiler_stubMap[JSCompiler_stubMethod_id].apply(this,arguments)}}function JSCompiler_unstubMethod(JSCompiler_unstubMethod_id,JSCompiler_unstubMethod_body){return JSCompiler_stubMap[JSCompiler_unstubMethod_id]=JSCompiler_unstubMethod_body}var jQuery1=function(){var jQuery2=function(){};var theLoneliestNumber=1;jQuery2.prototype={size:JSCompiler_stubMethod(0)};return jQuery2}();\njQuery2.prototype.size=JSCompiler_unstubMethod(0,function(){return theLoneliestNumber});(function(){var div=jQuery1(\"div\");div.size()})()\nNode tree inequality:\nTree1:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n        VAR 1 [source_file: expected0]\n            NAME jQuery1 1 [source_file: expected0]\n                CALL 1 [free_call: 1] [source_file: expected0]\n                    FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                        NAME  1 [source_file: expected0]\n                        PARAM_LIST 1 [source_file: expected0]\n                        BLOCK 1 [source_file: expected0]\n                            VAR 2 [source_file: expected0]\n                                NAME jQuery2 2 [source_file: expected0]\n                                    FUNCTION  2 [source_file: expected0]\n                                        NAME  2 [source_file: expected0]\n                                        PARAM_LIST 2 [source_file: expected0]\n                                        BLOCK 2 [source_file: expected0]\n                            VAR 3 [source_file: expected0]\n                                NAME theLoneliestNumber 3 [source_file: expected0]\n                                    NUMBER 1.0 3 [source_file: expected0]\n                            EXPR_RESULT 4 [source_file: expected0]\n                                ASSIGN 4 [source_file: expected0]\n                                    GETPROP 4 [source_file: expected0]\n                                        NAME jQuery2 4 [source_file: expected0]\n                                        STRING prototype 4 [source_file: expected0]\n                                    OBJECTLIT 4 [source_file: expected0]\n                                        STRING size 5 [source_file: expected0]\n                                            FUNCTION  5 [source_file: expected0]\n                                                NAME  5 [source_file: expected0]\n                                                PARAM_LIST 5 [source_file: expected0]\n                                                BLOCK 5 [source_file: expected0]\n                                                    RETURN 6 [source_file: expected0]\n                                                        NAME theLoneliestNumber 6 [source_file: expected0]\n                            RETURN 9 [source_file: expected0]\n                                NAME jQuery2 9 [source_file: expected0]\n    SCRIPT 1 [synthetic: 1] [source_file: expected1] [input_id: InputId: expected1]\n        EXPR_RESULT 1 [source_file: expected1]\n            CALL 1 [free_call: 1] [source_file: expected1]\n                FUNCTION  1 [parenthesized: true] [source_file: expected1]\n                    NAME  1 [source_file: expected1]\n                    PARAM_LIST 1 [source_file: expected1]\n                    BLOCK 1 [source_file: expected1]\n                        VAR 1 [source_file: expected1]\n                            NAME div 1 [source_file: expected1]\n                                CALL 1 [free_call: 1] [source_file: expected1]\n                                    NAME jQuery1 1 [source_file: expected1]\n                                    STRING div 1 [source_file: expected1]\n                        EXPR_RESULT 1 [source_file: expected1]\n                            CALL 1 [source_file: expected1]\n                                GETPROP 1 [source_file: expected1]\n                                    NAME div 1 [source_file: expected1]\n                                    STRING size 1 [source_file: expected1]\n\n\nTree2:\nBLOCK [synthetic: 1]\n    SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n        VAR 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                ARRAYLIT 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    FUNCTION  1 [source_file:  [synthetic:1] ]\n                        NAME  1 [source_file:  [synthetic:1] ]\n                        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                        BLOCK 1 [source_file:  [synthetic:1] ]\n                            RETURN 1 [source_file:  [synthetic:1] ]\n                                CALL 1 [source_file:  [synthetic:1] ]\n                                    GETPROP 1 [source_file:  [synthetic:1] ]\n                                        GETELEM 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                                            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n                                        STRING apply 1 [source_file:  [synthetic:1] ]\n                                    THIS 1 [source_file:  [synthetic:1] ]\n                                    NAME arguments 1 [source_file:  [synthetic:1] ]\n        FUNCTION JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_unstubMethod 1 [source_file:  [synthetic:1] ]\n            PARAM_LIST 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n            BLOCK 1 [source_file:  [synthetic:1] ]\n                RETURN 1 [source_file:  [synthetic:1] ]\n                    ASSIGN 1 [source_file:  [synthetic:1] ]\n                        GETELEM 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n                            NAME JSCompiler_unstubMethod_id 1 [source_file:  [synthetic:1] ]\n                        NAME JSCompiler_unstubMethod_body 1 [source_file:  [synthetic:1] ]\n        VAR 1 [source_file: i0]\n            NAME jQuery1 1 [source_file: i0]\n                CALL 1 [free_call: 1] [source_file: i0]\n                    FUNCTION  1 [parenthesized: true] [source_file: i0]\n                        NAME  1 [source_file: i0]\n                        PARAM_LIST 1 [source_file: i0]\n                        BLOCK 1 [source_file: i0]\n                            VAR 2 [source_file: i0]\n                                NAME jQuery2 2 [source_file: i0]\n                                    FUNCTION  2 [source_file: i0]\n                                        NAME  2 [source_file: i0]\n                                        PARAM_LIST 2 [source_file: i0]\n                                        BLOCK 2 [source_file: i0]\n                            VAR 3 [source_file: i0]\n                                NAME theLoneliestNumber 3 [source_file: i0]\n                                    NUMBER 1.0 3 [source_file: i0]\n                            EXPR_RESULT 4 [source_file: i0]\n                                ASSIGN 4 [source_file: i0]\n                                    GETPROP 4 [source_file: i0]\n                                        NAME jQuery2 4 [source_file: i0]\n                                        STRING prototype 4 [source_file: i0]\n                                    OBJECTLIT 4 [source_file: i0]\n                                        STRING size 5 [source_file: i0]\n                                            CALL 5 [free_call: 1] [source_file: i0]\n                                                NAME JSCompiler_stubMethod 5 [source_file: i0]\n                                                NUMBER 0.0 5 [source_file: i0]\n                            RETURN 9 [source_file: i0]\n                                NAME jQuery2 9 [source_file: i0]\n    SCRIPT 1 [synthetic: 1] [source_file: i1] [input_id: InputId: i1]\n        EXPR_RESULT 5 [source_file: i0]\n            ASSIGN 5 [source_file: i0]\n                GETPROP 5 [source_file: i0]\n                    GETPROP 4 [source_file: i0]\n                        NAME jQuery2 4 [source_file: i0]\n                        STRING prototype 4 [source_file: i0]\n                    STRING size 5 [source_file: i0]\n                CALL 5 [free_call: 1] [source_file: i0]\n                    NAME JSCompiler_unstubMethod 5 [source_file: i0]\n                    NUMBER 0.0 5 [source_file: i0]\n                    FUNCTION  5 [source_file: i0]\n                        NAME  5 [source_file: i0]\n                        PARAM_LIST 5 [source_file: i0]\n                        BLOCK 5 [source_file: i0]\n                            RETURN 6 [source_file: i0]\n                                NAME theLoneliestNumber 6 [source_file: i0]\n        EXPR_RESULT 1 [source_file: i1]\n            CALL 1 [free_call: 1] [source_file: i1]\n                FUNCTION  1 [parenthesized: true] [source_file: i1]\n                    NAME  1 [source_file: i1]\n                    PARAM_LIST 1 [source_file: i1]\n                    BLOCK 1 [source_file: i1]\n                        VAR 1 [source_file: i1]\n                            NAME div 1 [source_file: i1]\n                                CALL 1 [free_call: 1] [source_file: i1]\n                                    NAME jQuery1 1 [source_file: i1]\n                                    STRING div 1 [source_file: i1]\n                        EXPR_RESULT 1 [source_file: i1]\n                            CALL 1 [source_file: i1]\n                                GETPROP 1 [source_file: i1]\n                                    NAME div 1 [source_file: i1]\n                                    STRING size 1 [source_file: i1]\n\n\nSubtree1: SCRIPT 1 [synthetic: 1] [source_file: expected0] [input_id: InputId: expected0]\n    VAR 1 [source_file: expected0]\n        NAME jQuery1 1 [source_file: expected0]\n            CALL 1 [free_call: 1] [source_file: expected0]\n                FUNCTION  1 [parenthesized: true] [source_file: expected0]\n                    NAME  1 [source_file: expected0]\n                    PARAM_LIST 1 [source_file: expected0]\n                    BLOCK 1 [source_file: expected0]\n                        VAR 2 [source_file: expected0]\n                            NAME jQuery2 2 [source_file: expected0]\n                                FUNCTION  2 [source_file: expected0]\n                                    NAME  2 [source_file: expected0]\n                                    PARAM_LIST 2 [source_file: expected0]\n                                    BLOCK 2 [source_file: expected0]\n                        VAR 3 [source_file: expected0]\n                            NAME theLoneliestNumber 3 [source_file: expected0]\n                                NUMBER 1.0 3 [source_file: expected0]\n                        EXPR_RESULT 4 [source_file: expected0]\n                            ASSIGN 4 [source_file: expected0]\n                                GETPROP 4 [source_file: expected0]\n                                    NAME jQuery2 4 [source_file: expected0]\n                                    STRING prototype 4 [source_file: expected0]\n                                OBJECTLIT 4 [source_file: expected0]\n                                    STRING size 5 [source_file: expected0]\n                                        FUNCTION  5 [source_file: expected0]\n                                            NAME  5 [source_file: expected0]\n                                            PARAM_LIST 5 [source_file: expected0]\n                                            BLOCK 5 [source_file: expected0]\n                                                RETURN 6 [source_file: expected0]\n                                                    NAME theLoneliestNumber 6 [source_file: expected0]\n                        RETURN 9 [source_file: expected0]\n                            NAME jQuery2 9 [source_file: expected0]\n\n\nSubtree2: SCRIPT 1 [synthetic: 1] [source_file: i0] [input_id: InputId: i0]\n    VAR 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMap 1 [source_file:  [synthetic:1] ]\n            ARRAYLIT 1 [source_file:  [synthetic:1] ]\n    FUNCTION JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        NAME JSCompiler_stubMethod 1 [source_file:  [synthetic:1] ]\n        PARAM_LIST 1 [source_file:  [synthetic:1] ]\n            NAME JSCompiler_stubMethod_id 1 [source_file:  [synthetic:1] ]\n",
        "test_assert": "testSame(\n",
        "buggy_lines_in_method": [
            1
        ],
        "buggy_statements": [
            "private void processPrototypeParent(NodeTraversal t, Node n) {"
        ],
        "buggy_method_src_endswith_buggy_statement": "private void processPrototypeParent(NodeTraversal t, Node n) {"
    }
]